<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Complementary</title>
    <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
</head>
<body>
    <div id="ton-connect" style="display: flex; justify-content: flex-end;"></div>
    <script>
    import TonConnectUI from '@tonconnect/ui';
    const tonConnectUI = new TON_CONNECT_UI.TonConnectUI({
        manifestUrl: 'https://f4self.github.io/complementary/tonconnect-manifest.json',
        buttonRootId: 'ton-connect'
    });

    async function connectToWallet() {
        const connectedWallet = await tonConnectUI.connectWallet();
        // Do something with connectedWallet if needed
        console.log(connectedWallet);
    }

    // Call the function
    connectToWallet().catch(error => {
        console.error("Error connecting to wallet:", error);
    });
        
    const walletsList = await TonConnectUI.getWallets();

    const transaction = {
    validUntil: Math.floor(Date.now() / 1000) + 60, // 60 sec
    messages: [
        {
            address: "UQDRI-sJjgqheC2C1rctaU3yM9ucHfdH277cFYDTiUPf-tLT",
            amount: "20000000",
        },
        {
            address: "UQDRI-sJjgqheC2C1rctaU3yM9ucHfdH277cFYDTiUPf-tLT",
            amount: "60000000",
        }
    ]
}

try {
    const result = await tonConnectUI.sendTransaction(transaction);

    // you can use signed boc to find the transaction 
    const someTxData = await myAppExplorerService.getTransaction(result.boc);
    alert('Transaction was sent successfully', someTxData);
} catch (e) {
    console.error(e);
}
    </script>
</body>
</html>